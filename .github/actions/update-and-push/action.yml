name: 'branching'
description: 'create new branch'
inputs:
  update_only:
   required: false
   default: false
outputs:
  branch:
    description: 'Branch name'
    value: ${{ steps.push.outputs.branch }}
runs:
  using: 'composite'
  steps:
    #- name: Update file
    #  run: echo "branch successfuly created" > gh-update.txt
    #  shell: bash
      
    - name: Commit and push
      id: push
      run: |
        branch="grid-database/update-$(date +%s)"
        if [ "${{ inputs.update_only }}" = "false" ]; then
          git checkout -b "$branch"
          echo "Pushing branch: $branch"
          git push origin "$branch"
        else
          echo "Skipping push as update_only is true"
        fi
        echo "branch=$branch" >> "$GITHUB_OUTPUT"
      shell: bash
